<link
	rel="stylesheet"
	href="https://raw.githack.com/dimaslanjaka/Web-Manajemen/master/css/bootstrap-4.5-wrapper.css"
	media="all"
/>
<link
	rel="stylesheet"
	href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.0.0/build/styles/default.min.css"
/>
<script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.0.0/build/highlight.min.js"></script>
<div id="bootstrap-wrapper">
	<h2 id="php-apache-setup-on-android-with-termux-without-root-">
		php apache setup on android with Termux (without root)
	</h2>
	<ul>
		<li>
			<a href="https://f-droid.org/repository/browse/?fdid=com.termux">
				Download Termux
			</a>
			(allow installation from unknwon sources and install the termux app)
		</li>
	</ul>
	<h2 id="termux-setup-steps">Termux Setup Steps</h2>
	<ul>
		<li>
			update packages (If it asks you, choose yes in both cases.)
			<pre><code class="lang-bash">apt <span class="hljs-keyword">update</span> -y &amp;&amp; apt <span class="hljs-keyword">upgrade</span> -y
  </code></pre>
		</li>
		<li>Install Apache and PHP 7</li>
	</ul>
	<p>
		There is as of now a bundle that serves to introduce these two things
		together. That is, through apache PHP documents are prepared. To introduce
		our LAMPP on Android we will run:
	</p>
	<pre><code class="lang-bash">apt <span class="hljs-keyword">install</span> php-apache
  </code></pre>
	<p>
		That will install apache, PHP and a few libraries that will permit us to
		join the two things.
	</p>
	<ul>
		<li>configure apache to process the PHP files</li>
	</ul>
	<p>
		We are going to configure the httpd.conf file. Attention here, because the
		route is important. The apache configuration file is in
		<code>/data/data/com.termux/files/usr/etc/apache2/httpd.conf</code>
	</p>
	<p>You can change to that folder with:</p>
	<pre><code class="lang-bash">cd <span class="hljs-regexp">/data/</span>data<span class="hljs-regexp">/com.termux/</span>files<span class="hljs-regexp">/usr/</span>etc<span class="hljs-regexp">/apache2/</span>
  </code></pre>
	<p>Then open the file with nano:</p>
	<pre><code class="lang-bash"><span class="hljs-selector-tag">nano</span> <span class="hljs-selector-tag">httpd</span><span class="hljs-selector-class">.conf</span>
  </code></pre>
	<ul>
		<li>Load PHP module</li>
	</ul>
	<p>
		on httpd.conf, scroll down until you see string start with
		<strong>LoadModule</strong>. Then add new line and type bellow code:
	</p>
	<pre><code class="lang-conf">LoadModule php7_module <span class="hljs-regexp">/data/</span>data<span class="hljs-regexp">/com.termux/</span>files<span class="hljs-regexp">/usr/</span>libexec<span class="hljs-regexp">/apache2/</span>libphp7.so
  </code></pre>
	<ul>
		<li>Set handler</li>
	</ul>
	<p>
		Add new line after <code>LoadModule php7_module</code> and type bellow code:
	</p>
	<pre><code class="lang-conf"><span class="hljs-section">&lt;FilesMatch \.php$&gt;</span>
    <span class="hljs-attribute"><span class="hljs-nomarkup">SetHandler</span></span> application/x-httpd-php
  <span class="hljs-section">&lt;/FilesMatch&gt;</span>
  </code></pre>
	<p>
		We are revealing to Apache that records that conform to a standard
		articulation/regex (where the document is one of PHP) are prepared by a
		controller.
	</p>
	<p>
		Now above steps looks like:
		<img
			src="https://res.cloudinary.com/dimaslanjaka/image/fetch/https://parzibyte.me/blog/wp-content/uploads/2018/11/Configuraci%C3%B3n-httpd-en-termux-Android.jpg"
			alt="Preview"
		/>
	</p>
	<ul>
		<li>Change Index</li>
	</ul>
	<p>
		Scroll again, and find text contains <code>DirectoryIndex index.html</code>.
		Looks like bellow:
	</p>
	<pre><code class="lang-conf"><span class="hljs-section">&lt;IfModule dir_module&gt;</span>
    <span class="hljs-attribute">DirectoryIndex</span> index.html
  <span class="hljs-section">&lt;/IfModule&gt;</span>
  </code></pre>
	<p>
		Change extension <code>html</code> to <code>php</code>, seem looks like
		bellow:
	</p>
	<pre><code class="lang-conf"><span class="hljs-section">&lt;IfModule dir_module&gt;</span>
    <span class="hljs-attribute">DirectoryIndex</span> index.php
  <span class="hljs-section">&lt;/IfModule&gt;</span>
  </code></pre>
	<p>
		We do this to advise apache to serve index.php over index.html (this is a
		change and that doesn&#39;t mean we can not serve HTML).
	</p>
	<p>
		For instance, in the event that we visit <code>example.com</code> apache
		will default to index.html, rather this change will serve index.php. Save
		changes and close the record. <code>CRTL+X -&gt; Save Dont Rename</code>
	</p>
	<ul>
		<li>Write first index.php on public directory</li>
	</ul>
	<p>
		Our htdocs located in
		<code
			>/data/data/com.termux/files/usr/share/apache2/default-site/htdocs</code
		>. Just type bellow code:
	</p>
	<pre><code>cd <span class="hljs-regexp">/data/</span>data<span class="hljs-regexp">/com.termux/</span>files<span class="hljs-regexp">/usr/</span>share<span class="hljs-regexp">/apache2/</span><span class="hljs-keyword">default</span>-site/htdocs
  nano index.php
  </code></pre>
	<p>Write your first php code or any text. I suggest type bellow code:</p>
	<pre><code class="lang-php"><span class="php"><span class="hljs-meta">&lt;?php</span>
  phpinfo();
  <span class="hljs-meta">?&gt;</span></span>
  </code></pre>
	<p>Now save it. <code>CTRL+X -&gt; Save don&#39;t rename</code></p>
	<ul>
		<li>Start apache</li>
	</ul>
	<p>To start apache daemon, type bellow commands:</p>
	<pre><code class="lang-bash">apachectl <span class="hljs-literal">start</span>
  </code></pre>
	<p>
		On the off chance that it doesn&#39;t show errors at that point all is well.
	</p>

	<p>
		apache is running a threaded mpm but your php module is not compiled to be
		threadsafe, How to fix ?
		<a
			href="/2021/06/fix-apache-wont-run-on-android.html"
			alt="How to fix apache is running a threaded mpm but your php module is not compiled to be
		threadsafe"
			>See here</a
		>
		<br />
		Fix error retrieving pid file apache.
		<a href="/2021/06/fix-error-retrieving-pid-file-on-termux.html">See here</a>
	</p>

	<div class="mt-3">
		See also:
		<ul>
			<li>
				<a
					href="/2017/04/instal-php-cli-pada-android-instalasi.html"
					rel="follow"
				>
					Install php cli on android root
				</a>
			</li>
		</ul>
	</div>
</div>
